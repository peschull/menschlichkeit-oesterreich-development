## =============================================================================
## MENSCHLICHKEIT ÖSTERREICH – Zentrale ENV-Konfiguration (Master)
## =============================================================================
## Generiert: 2025-10-18
## Zweck: Single Source of Truth für alle Umgebungsvariablen
## Verwendung:
##   - Lokal: Kopiere nach .env und fülle echte Werte ein
##   - CI/CD: Nutze GitHub Secrets oder dotenv-vault
##   - Teilprojekte: Automatische .env.example-Subsets via tools/sync-env.ps1
## =============================================================================

# -----------------------------------------------------------------------------
# 1. SSH/DEPLOYMENT (Plesk - siehe docs/ENV-DEPLOYMENT-MAIL-STANDARD.md)
# -----------------------------------------------------------------------------
SSH_HOST=5.183.217.146
SSH_PORT=22
SSH_USER=
SSH_KEY=
REMOTE_BASE=/var/www/vhosts/menschlichkeit-oesterreich.at

# --- Remote Pfade (NICHT ÄNDERN ohne PR + Board/Tech-Lead Approval) ---
REMOTE_menschlichkeit=httpdocs
REMOTE_admin_stg=subdomains/admin.stg/httpdocs
REMOTE_analytics=subdomains/analytics/httpdocs
REMOTE_api_stg=subdomains/api.stg/httpdocs
REMOTE_consent=subdomains/consent/httpdocs
REMOTE_crm=subdomains/crm/httpdocs
REMOTE_docs=subdomains/docs/httpdocs
REMOTE_forum=subdomains/forum/httpdocs
REMOTE_games=subdomains/games/httpdocs
REMOTE_grafana=subdomains/grafana/httpdocs
REMOTE_hooks=subdomains/hooks/httpdocs
REMOTE_idp=subdomains/idp/httpdocs
REMOTE_logs=subdomains/logs/httpdocs
REMOTE_media=subdomains/media/httpdocs
REMOTE_n8n=subdomains/n8n/httpdocs
REMOTE_newsletter=subdomains/newsletter/httpdocs
REMOTE_s3=subdomains/s3/httpdocs
REMOTE_status=subdomains/status/httpdocs
REMOTE_support=subdomains/support/httpdocs
REMOTE_votes=subdomains/vote/httpdocs

# --- Local Build Roots (anpassen nach Projektstruktur) ---
LOCAL_frontend=./frontend/dist
LOCAL_docs=./web/docs/build
LOCAL_api=./api.menschlichkeit-oesterreich.at/deploy
LOCAL_crm=./crm.menschlichkeit-oesterreich.at/web
LOCAL_static_root=./webroot

# -----------------------------------------------------------------------------
# 2. GITHUB & MCP INTEGRATION
# -----------------------------------------------------------------------------
# GitHub Personal Access Token (Fine-Grained empfohlen)
# Siehe: .github/instructions/core/github-pat-management.instructions.md
# Scopes: repo, read:org, workflow, write:packages
# Ablaufzeit: Max. 90 Tage (automatische Rotation via dotenv-vault)
# NIEMALS direkt in .env speichern → Nutze dotenv-vault oder gh CLI!
GH_TOKEN=

# -----------------------------------------------------------------------------
# 3. FIGMA (Design System MCP Server)
# -----------------------------------------------------------------------------
FIGMA_API_TOKEN=
FIGMA_FILE_KEY=mTlUSy9BQk4326cvwNa8zQ
FIGMA_MCP_SERVER_URL=http://127.0.0.1:3845/mcp
FIGMA_PROJECT_NAME="Menschlichkeit Österreich - Website Design System"

# -----------------------------------------------------------------------------
# 4. DATABASE (PostgreSQL - Shared across all services)
# -----------------------------------------------------------------------------
DATABASE_URL=postgresql://USER:PASS@HOST:5432/DBNAME
DB_HOST=localhost
DB_NAME=menschlichkeit_db
DB_USER=postgres
DB_PASS=
DB_PORT=5432

# -----------------------------------------------------------------------------
# 4. CIVICRM (Drupal + CiviCRM Integration)
# -----------------------------------------------------------------------------
CIVICRM_DB_HOST=localhost
CIVICRM_DB_NAME=
CIVICRM_DB_USER=
CIVICRM_DB_PASS=
CIVICRM_DB_CHARSET=utf8mb4
CIVICRM_DB_COLLATE=utf8mb4_unicode_ci
CIVICRM_API_KEY=
CIVICRM_SITE_KEY=
CIVI_BASE_URL=https://crm.menschlichkeit-oesterreich.at

# -----------------------------------------------------------------------------
# 5. DRUPAL (CMS Settings)
# -----------------------------------------------------------------------------
DRUPAL_ADMIN_USER=admin
DRUPAL_ADMIN_PASS=
DRUPAL_TEST_BASE_URL=http://localhost:8000
DRUPAL_TEST_CHROMEDRIVER_PATH=/usr/local/bin/chromedriver
DRUPAL_NIGHTWATCH_IGNORE_DIRECTORIES=node_modules,vendor,.*,sites/*/files,sites/*/private,sites/simpletest
DRUPAL_NIGHTWATCH_OUTPUT=reports/nightwatch

# -----------------------------------------------------------------------------
# 6. FASTAPI BACKEND (Dashboard API)
# -----------------------------------------------------------------------------
APP_ENV=development
APP_PORT=8080
DEBUG=true
JWT_SECRET=
FRONTEND_ORIGINS=http://localhost:5173,http://localhost:3000

# -----------------------------------------------------------------------------
# 7. FRONTEND (React + Vite - NUR VITE_* Variablen!)
# -----------------------------------------------------------------------------
# WICHTIG: Vite akzeptiert NUR Variablen mit VITE_ Präfix!
# Niemals Secrets ohne VITE_ hier einfügen (werden öffentlich!)
VITE_APP_ENVIRONMENT=development
VITE_API_BASE_URL=http://localhost:8080
VITE_API_TIMEOUT_MS=10000
VITE_ADMIN_EMAILS=vorstand@menschlichkeit-oesterreich.at
VITE_ANALYTICS_PROVIDER=none
VITE_SENTRY_DSN=

# -----------------------------------------------------------------------------
# 8. REDIS (Caching - Optional)
# -----------------------------------------------------------------------------
REDIS_URL=redis://localhost:6379/0

# -----------------------------------------------------------------------------
# 9. EMAIL (SMTP + IMAP für n8n/CiviCRM)
# -----------------------------------------------------------------------------
ADMIN_EMAIL=admin@menschlichkeit-oesterreich.at
ADMIN_EMAIL_PASS=
ACME_EMAIL=letsencrypt@menschlichkeit-oesterreich.at

CIVIMAIL_EMAIL=civimail@menschlichkeit-oesterreich.at
CIVIMAIL_EMAIL_PASS=
BOUNCE_EMAIL=bounce@menschlichkeit-oesterreich.at
BOUNCE_EMAIL_PASS=

IMAP_HOST=imap.example.com
IMAP_PORT=993
IMAP_USER=
IMAP_PASS=

SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=

MAIL_MAILER=smtp
MAIL_HOST=
MAIL_PORT=587
MAIL_USERNAME=
MAIL_PASSWORD=
MAIL_ENCRYPTION=tls
MAIL_FROM_ADDRESS=
MAIL_FROM_NAME="Menschlichkeit Österreich"

# -----------------------------------------------------------------------------
# 10. PAYMENT & BILLING (Stripe)
# -----------------------------------------------------------------------------
STRIPE_API_KEY=
STRIPE_WEBHOOK_SECRET=
STRIPE_PUBLISHABLE_KEY=

# -----------------------------------------------------------------------------
# 11. ELK STACK (Elasticsearch + Kibana)
# -----------------------------------------------------------------------------
ENVIRONMENT=development
CLUSTER_NAME=menschlichkeit-elk
ELASTIC_PASSWORD=
ES_JAVA_OPTS=-Xms512m -Xmx512m
ELK_NETWORK_SUBNET=172.28.0.0/16
KIBANA_SYSTEM_PASSWORD=
COMPLIANCE_RETENTION_DAYS=2555

# -----------------------------------------------------------------------------
# 12. N8N AUTOMATION (Workflow Engine)
# -----------------------------------------------------------------------------
N8N_ENCRYPTION_KEY=
N8N_USER_MANAGEMENT_DISABLED=false
N8N_BASIC_AUTH_ACTIVE=true
N8N_BASIC_AUTH_USER=admin
N8N_BASIC_AUTH_PASSWORD=
WEBHOOK_URL=https://n8n.menschlichkeit-oesterreich.at/

# -----------------------------------------------------------------------------
# 13. ANALYTICS & MONITORING
# -----------------------------------------------------------------------------
SENTRY_DSN=
CLARITY_API_KEY=
CLARITY_PROJECT_ID=
PLAUSIBLE_DOMAIN=menschlichkeit-oesterreich.at

# -----------------------------------------------------------------------------
# 14. GPG & SECURITY
# -----------------------------------------------------------------------------
GPG_Key=

# -----------------------------------------------------------------------------
# 15. DEPLOYMENT (Plesk/SSH)
# -----------------------------------------------------------------------------
PLESK_HOST=
PLESK_REMOTE_PATH=/var/www/vhosts/menschlichkeit-oesterreich.at/httpdocs
LOCAL_WEBROOT=./
SSH_PORT=22
SSH_KEY=~/.ssh/id_ed25519
DEPLOY_TARGET=staging

# -----------------------------------------------------------------------------
# 16. LEGACY/COMPATIBILITY (Laravel - falls noch genutzt)
# -----------------------------------------------------------------------------
LARAVEL_DB_CONNECTION=mysql
LARAVEL_DB_HOST=127.0.0.1
LARAVEL_DB_PORT=3306
LARAVEL_DB_NAME=
LARAVEL_DB_USER=
LARAVEL_DB_PASS=
LARAVEL_DB_CHARSET=utf8mb4
LARAVEL_DB_COLLATE=utf8mb4_unicode_ci

# -----------------------------------------------------------------------------
# ENDE – Zentrale ENV-Konfiguration
# -----------------------------------------------------------------------------
