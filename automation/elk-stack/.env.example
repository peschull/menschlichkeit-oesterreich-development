# ELK Stack Environment Configuration
# Copy this file to .env and fill in your credentials

################################################################################
# Elasticsearch Configuration
################################################################################

# Elasticsearch superuser password (change this!)
ELASTIC_PASSWORD=changeme

# Elasticsearch cluster name
CLUSTER_NAME=menschlichkeit-logs

# Elasticsearch heap size (50% of available RAM, max 32GB)
ES_JAVA_OPTS=-Xms2g -Xmx2g

################################################################################
# Kibana Configuration
################################################################################

# Kibana system user password (change this!)
KIBANA_PASSWORD=changeme

# Kibana encryption key (generate with: openssl rand -hex 32)
KIBANA_ENCRYPTION_KEY=

################################################################################
# Logstash Configuration
################################################################################

# Logstash API token for monitoring (generate with: openssl rand -hex 16)
LOGSTASH_API_TOKEN=

# FastAPI PII-Sanitizer endpoint (for HTTP filter alternative)
FASTAPI_PII_ENDPOINT=http://api.menschlichkeit-oesterreich.at/api/v1/pii/sanitize

# Logstash heap size
LS_JAVA_OPTS=-Xms1g -Xmx1g

################################################################################
# Filebeat Configuration
################################################################################

# Filebeat log paths (comma-separated)
FILEBEAT_LOG_PATHS=/var/log/fastapi/*.log,/var/log/n8n/*.log

################################################################################
# Network Configuration
################################################################################

# ELK network subnet
ELK_NETWORK_SUBNET=172.20.0.0/16

################################################################################
# Snapshot Repository Configuration
################################################################################

# Path for Elasticsearch snapshots (for ILM cold phase)
SNAPSHOT_REPO_PATH=/var/lib/elk-stack/elasticsearch/snapshots

################################################################################
# Security Configuration
################################################################################

# Enable Elasticsearch XPack Security
XPACK_SECURITY_ENABLED=true

# Enable Elasticsearch XPack Monitoring
XPACK_MONITORING_ENABLED=true

################################################################################
# DSGVO Compliance Configuration
################################################################################

# Enable PII sanitization in frontend logs
FRONTEND_PII_SANITIZATION=true

# Log retention periods (days)
OPERATIONAL_RETENTION_DAYS=30
COMPLIANCE_RETENTION_DAYS=365
SECURITY_AUDIT_RETENTION_DAYS=2555

################################################################################
# Deployment Configuration
################################################################################

# Environment (development, staging, production)
ENVIRONMENT=development

# Kibana public URL (for Nginx reverse proxy)
KIBANA_PUBLIC_URL=https://logs.menschlichkeit-oesterreich.at

# IP whitelist for Kibana access (comma-separated)
KIBANA_IP_WHITELIST=127.0.0.1,192.168.1.0/24
