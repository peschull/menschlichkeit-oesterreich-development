# üîß Plesk Database Setup - ENHANCED VERSION
# L√∂sung f√ºr MariaDB Authentication Probleme

Write-Host "üöÄ Database Setup - Enhanced Version verf√ºgbar!" -ForegroundColor Green
Write-Host "=============================================" -ForegroundColor Green

Write-Host "`n‚úÖ Problem erkannt und gel√∂st:" -ForegroundColor Cyan
Write-Host "Der urspr√ºngliche Fehler 'Access denied for user root@localhost'" -ForegroundColor Yellow
Write-Host "ist ein typisches Problem bei Plesk MariaDB Installationen." -ForegroundColor Yellow

Write-Host "`nüîß Enhanced Script Features:" -ForegroundColor Cyan
Write-Host "‚Ä¢ Automatische Erkennung der besten Verbindungsmethode" -ForegroundColor White
Write-Host "‚Ä¢ Unix Socket Authentication (Standard bei Plesk)" -ForegroundColor White
Write-Host "‚Ä¢ TCP Connection Fallback" -ForegroundColor White
Write-Host "‚Ä¢ Benutzerdefinierte Host/Port Optionen" -ForegroundColor White
Write-Host "‚Ä¢ Erweiterte Fehlerdiagnose" -ForegroundColor White
Write-Host "‚Ä¢ Plesk-spezifische Troubleshooting Tipps" -ForegroundColor White

Write-Host "`nüåê NEUE URL f√ºr Enhanced Setup:" -ForegroundColor Green
Write-Host "https://menschlichkeit-oesterreich.at/plesk-db-setup-enhanced.php?key=MO_SETUP_2025_SECURE_KEY" -ForegroundColor White

Write-Host "`nüí° L√∂sungsans√§tze f√ºr Plesk MariaDB:" -ForegroundColor Yellow
Write-Host "1. Versuche OHNE Passwort (Socket Authentication)" -ForegroundColor Gray
Write-Host "2. Verwende 'Auto-detect' Verbindungsmethode" -ForegroundColor Gray
Write-Host "3. Pr√ºfe MySQL Root Passwort im Plesk Panel" -ForegroundColor Gray
Write-Host "4. Alternative: Manuelle Datenbank-Erstellung in Plesk" -ForegroundColor Gray

Write-Host "`nüîê Sicherheitsverbesserungen:" -ForegroundColor Yellow
Write-Host "‚Ä¢ Mehrfache Host-Konfiguration f√ºr User" -ForegroundColor White
Write-Host "‚Ä¢ Verbesserte Passwort-Generierung" -ForegroundColor White
Write-Host "‚Ä¢ Erweiterte Berechtigungen" -ForegroundColor White
Write-Host "‚Ä¢ Automatisches FLUSH PRIVILEGES" -ForegroundColor White

Write-Host "`n‚ö° Troubleshooting bei Problemen:" -ForegroundColor Red
Write-Host "Falls immer noch Probleme auftreten:" -ForegroundColor Red
Write-Host "1. Plesk Panel ‚Üí Databases ‚Üí Manually create" -ForegroundColor Gray
Write-Host "2. Use phpMyAdmin in Plesk" -ForegroundColor Gray
Write-Host "3. Check MySQL service: systemctl status mysql" -ForegroundColor Gray
Write-Host "4. Check MySQL socket: mysql_config --socket" -ForegroundColor Gray

Write-Host "`nüéØ N√§chste Schritte:" -ForegroundColor Green
Write-Host "1. Enhanced Script im Browser √∂ffnen" -ForegroundColor White
Write-Host "2. 'Auto-detect' Connection Method w√§hlen" -ForegroundColor White
Write-Host "3. Root Password eingeben (oder leer lassen)" -ForegroundColor White
Write-Host "4. Setup ausf√ºhren" -ForegroundColor White
Write-Host "5. Credentials in .env Dateien kopieren" -ForegroundColor White
Write-Host "6. Scripts SOFORT l√∂schen!" -ForegroundColor Red

Write-Host "`nüéâ Das Enhanced Script sollte die Authentication-Probleme l√∂sen!" -ForegroundColor Green