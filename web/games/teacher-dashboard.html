<!doctype html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Demokratie-Lernspiele - Lehrer Dashboard</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: 'Segoe UI', system-ui, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
      }

      .dashboard-container {
        max-width: 1400px;
        margin: 0 auto;
        padding: 20px;
      }

      .header {
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        border-radius: 15px;
        padding: 20px;
        margin-bottom: 30px;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
      }

      .header-content {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 30px;
        flex-wrap: wrap;
      }

      .header-text {
        flex: 1 1 280px;
        min-width: 240px;
      }

      .header h1 {
        color: #2c3e50;
        margin-bottom: 10px;
        font-size: 2.2em;
        display: flex;
        align-items: center;
        gap: 15px;
      }

      .header-icon {
        font-size: 1.2em;
        background: linear-gradient(135deg, #3498db, #2980b9);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .header p {
        color: #4a5568;
        line-height: 1.5;
        font-size: 1.1em;
      }

      .header-illustration {
        flex: 0 0 320px;
        max-width: 360px;
      }

      .header-illustration svg {
        width: 100%;
        height: auto;
        display: block;
        filter: drop-shadow(0 4px 8px rgba(0,0,0,0.1));
      }

      /* SVG Animation Classes */
      .animate-float {
        animation: float 3s ease-in-out infinite;
      }

      .animate-pulse {
        animation: pulse-glow 2s ease-in-out infinite;
      }

      .animate-rotate {
        animation: rotate 10s linear infinite;
      }

      @keyframes float {
        0%, 100% { transform: translateY(0px); }
        50% { transform: translateY(-10px); }
      }

      @keyframes pulse-glow {
        0%, 100% { opacity: 0.8; }
        50% { opacity: 1; }
      }

      @keyframes rotate {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
      }

      .header-controls {
        display: flex;
        gap: 15px;
        align-items: center;
        margin-top: 15px;
      }

      .control-group {
        display: flex;
        flex-direction: column;
        gap: 5px;
      }

      .control-group label {
        font-size: 12px;
        color: #666;
        font-weight: 600;
      }

      select,
      button {
        padding: 8px 12px;
        border: 1px solid #ddd;
        border-radius: 6px;
        font-size: 14px;
      }

      button {
        background: #3498db;
        color: white;
        border: none;
        cursor: pointer;
        transition: background 0.2s;
      }

      button:hover {
        background: #2980b9;
      }

      .dashboard-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
        gap: 20px;
        margin-bottom: 30px;
      }

      .widget {
        background: rgba(255, 255, 255, 0.95);
        -webkit-backdrop-filter: blur(10px);
        backdrop-filter: blur(10px);
        border-radius: 15px;
        padding: 20px;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
      }

      .widget-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 15px;
        border-bottom: 2px solid #f1f1f1;
        padding-bottom: 10px;
      }

      .widget-title {
        color: #2c3e50;
        font-size: 18px;
        font-weight: 600;
      }

      .widget-icon {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 36px;
        height: 36px;
        border-radius: 50%;
        background: #e9f2ff;
      }

      .widget-icon svg {
        width: 22px;
        height: 22px;
        stroke-width: 1.8px;
      }

      .metric-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 15px;
        margin: 15px 0;
      }

        .metric {
            text-align: center;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 12px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            min-height: 120px;
        }

        .metric-icon {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, rgba(76, 110, 245, 0.18), rgba(58, 151, 246, 0.12));
        }

        .metric-icon svg {
            width: 22px;
            height: 22px;
            stroke-width: 1.6px;
        }

        .metric-value {
            font-size: 24px;
            font-weight: bold;
            color: #3498db;
        margin-bottom: 5px;
      }

      .metric-label {
        font-size: 12px;
        color: #666;
      }

      .progress-bar {
        width: 100%;
        height: 8px;
        background: #e9ecef;
        border-radius: 4px;
        overflow: hidden;
        margin: 10px 0;
      }

      .progress-fill {
        height: 100%;
        background: linear-gradient(90deg, #28a745, #20c997);
        transition: width 0.3s ease;
      }

      .student-list {
        max-height: 200px;
        overflow-y: auto;
      }

      .student-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 8px 0;
        border-bottom: 1px solid #eee;
      }

      .student-name {
        font-weight: 500;
      }

      .student-status {
        padding: 4px 8px;
        border-radius: 12px;
        font-size: 11px;
        font-weight: 600;
      }

      .status-online {
        background: #d4edda;
        color: #155724;
      }

      .status-engaged {
        background: #d1ecf1;
        color: #0c5460;
      }

      .status-needs-help {
        background: #f8d7da;
        color: #721c24;
      }

      .game-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        gap: 10px;
      }

      .game-card {
        background: #f8f9fa;
        border-radius: 8px;
        padding: 15px;
        text-align: center;
        cursor: pointer;
        transition: all 0.2s;
        border: 2px solid transparent;
      }

      .game-card:hover {
        background: #e9ecef;
        border-color: #3498db;
      }

      .game-card.active {
        background: #3498db;
        color: white;
      }

      .game-icon {
        font-size: 32px;
        margin-bottom: 8px;
      }

      .game-title {
        font-size: 14px;
        font-weight: 600;
        margin-bottom: 4px;
      }

      .game-players {
        font-size: 12px;
        opacity: 0.7;
      }

      .alert {
        background: #fff3cd;
        border: 1px solid #ffeaa7;
        color: #856404;
        padding: 10px 15px;
        border-radius: 6px;
        margin-bottom: 10px;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .alert.critical {
        background: #f8d7da;
        border-color: #f5c6cb;
        color: #721c24;
      }

      .real-time-feed {
        max-height: 250px;
        overflow-y: auto;
        border: 1px solid #ddd;
        border-radius: 8px;
        padding: 10px;
      }

      .feed-item {
        padding: 8px 0;
        border-bottom: 1px solid #eee;
        font-size: 14px;
      }

      .feed-timestamp {
        color: #666;
        font-size: 12px;
      }

      .intervention-panel {
        background: #f8f9fa;
        border-radius: 8px;
        padding: 15px;
        margin-top: 15px;
      }

      .intervention-button {
        background: #17a2b8;
        color: white;
        border: none;
        padding: 8px 12px;
        border-radius: 4px;
        font-size: 12px;
        cursor: pointer;
        margin: 2px;
      }

      .intervention-button:hover {
        background: #138496;
      }

      @media (max-width: 768px) {
        .dashboard-grid {
          grid-template-columns: 1fr;
        }

        .metric-grid {
          grid-template-columns: 1fr;
        }

        .header-content {
          flex-direction: column;
          align-items: flex-start;
        }

        .header-controls {
          flex-direction: column;
          align-items: stretch;
        }

        .header-illustration {
          width: 100%;
          max-width: 100%;
        }
      }

      .curriculum-alignment {
        border-left: 4px solid #28a745;
        padding-left: 15px;
        margin: 10px 0;
      }

      .objective-item {
        display: flex;
        justify-content: space-between;
        margin: 5px 0;
      }

      .objective-progress {
        width: 60px;
        height: 6px;
        background: #e9ecef;
        border-radius: 3px;
        overflow: hidden;
      }
    </style>
  </head>
  <body>
    <div class="dashboard-container">
      <div class="header">
        <div class="header-content">
          <div class="header-text">
            <h1>
              <span class="header-icon">üèõÔ∏è</span>
              Demokratie-Lernspiele Dashboard
            </h1>
            <p>Echtzeit-√úberblick √ºber Ihre Klasse w√§hrend des Demokratie-Lernspiels</p>
          </div>
          <figure class="header-illustration" aria-hidden="true">
            <svg viewBox="0 0 360 220" role="presentation">
              <defs>
                <linearGradient id="dashboardGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                  <stop offset="0%" stop-color="#6c5ce7" />
                  <stop offset="100%" stop-color="#a29bfe" />
                </linearGradient>
                <linearGradient id="cardGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                  <stop offset="0%" stop-color="#ffffff" stop-opacity="0.95" />
                  <stop offset="100%" stop-color="#dfe7ff" stop-opacity="0.8" />
                </linearGradient>
                <linearGradient id="screenGlow" x1="0%" y1="0%" x2="100%" y2="100%">
                  <stop offset="0%" stop-color="#3498db" />
                  <stop offset="100%" stop-color="#2980b9" />
                </linearGradient>
              </defs>

              <!-- Dashboard Screen -->
              <rect
                x="10"
                y="20"
                width="340"
                height="180"
                rx="28"
                fill="url(#dashboardGradient)"
                opacity="0.18"
                class="animate-pulse"
              />

              <!-- Main Dashboard -->
              <rect
                x="30"
                y="40"
                width="240"
                height="140"
                rx="16"
                fill="url(#cardGradient)"
                stroke="#3498db"
                stroke-width="2"
                class="animate-float"
              />

              <!-- Charts and Graphs -->
              <g class="dashboard-content">
                <!-- Progress Bars -->
                <rect x="45" y="60" width="60" height="8" rx="4" fill="#e9ecef" />
                <rect x="45" y="60" width="45" height="8" rx="4" fill="#28a745" class="animate-pulse" />

                <rect x="45" y="75" width="60" height="8" rx="4" fill="#e9ecef" />
                <rect x="45" y="75" width="35" height="8" rx="4" fill="#ffc107" />

                <rect x="45" y="90" width="60" height="8" rx="4" fill="#e9ecef" />
                <rect x="45" y="90" width="50" height="8" rx="4" fill="#17a2b8" />

                <!-- Student Icons -->
                <g class="student-indicators">
                  <circle cx="140" cy="65" r="6" fill="#28a745" class="animate-pulse" />
                  <circle cx="155" cy="65" r="6" fill="#28a745" />
                  <circle cx="170" cy="65" r="6" fill="#ffc107" />
                  <circle cx="185" cy="65" r="6" fill="#28a745" />
                  <circle cx="200" cy="65" r="6" fill="#dc3545" class="animate-pulse" />
                </g>

                <!-- Game Icons -->
                <g class="game-indicators">
                  <rect x="140" y="85" width="20" height="15" rx="3" fill="#3498db" />
                  <rect x="165" y="85" width="20" height="15" rx="3" fill="#e74c3c" />
                  <rect x="190" y="85" width="20" height="15" rx="3" fill="#f39c12" />

                  <!-- Game Activity Lines -->
                  <path d="M150 110 Q160 105 170 110" stroke="#3498db" stroke-width="2" fill="none" class="animate-pulse" />
                  <path d="M175 110 Q185 115 195 110" stroke="#e74c3c" stroke-width="2" fill="none" />
                </g>

                <!-- Statistics Chart -->
                <g class="stats-chart">
                  <rect x="45" y="110" width="8" height="25" fill="#3498db" opacity="0.8" />
                  <rect x="58" y="120" width="8" height="15" fill="#2ecc71" opacity="0.8" />
                  <rect x="71" y="105" width="8" height="30" fill="#e74c3c" opacity="0.8" class="animate-float" />
                  <rect x="84" y="115" width="8" height="20" fill="#f39c12" opacity="0.8" />
                  <rect x="97" y="100" width="8" height="35" fill="#9b59b6" opacity="0.8" />
                </g>
              </g>

              <!-- Floating Elements -->
              <g class="floating-elements">
                <!-- Achievement Badge -->
                <circle cx="290" cy="70" r="18" fill="#ffd700" class="animate-float" />
                <text x="290" y="75" text-anchor="middle" fill="#333" font-size="16">üèÜ</text>

                <!-- Notification Icon -->
                <circle cx="315" cy="100" r="12" fill="#e74c3c" class="animate-pulse" />
                <text x="315" y="105" text-anchor="middle" fill="white" font-size="10">!</text>

                <!-- Connection Lines -->
                <path d="M270 110 Q290 120 310 110" stroke="#95a5a6" stroke-width="2" fill="none" stroke-dasharray="5,5" class="animate-rotate" />
              </g>

              <!-- Democracy Symbols -->
              <g class="democracy-symbols" opacity="0.6">
                <circle cx="320" cy="50" r="8" fill="#2c3e50" />
                <rect x="317" y="42" width="6" height="16" fill="none" stroke="#2c3e50" stroke-width="1" />
                <text x="320" y="48" text-anchor="middle" fill="white" font-size="8">‚öñ</text>
              </g>
            </svg>
          </figure>
                fill="url(#cardGradient)"
                stroke="#dde3ff"
                stroke-width="2"
              />
              <rect x="60" y="88" width="60" height="68" rx="10" fill="#8ec5ff" opacity="0.35" />
              <rect x="128" y="112" width="60" height="44" rx="10" fill="#23d3b0" opacity="0.35" />
              <rect x="196" y="70" width="60" height="86" rx="10" fill="#ffb870" opacity="0.35" />
              <circle cx="262" cy="66" r="38" fill="#fff" opacity="0.85" />
              <path d="M242 66h40" stroke="#6c5ce7" stroke-width="4" stroke-linecap="round" />
              <path d="M262 46v40" stroke="#6c5ce7" stroke-width="4" stroke-linecap="round" />
              <rect x="280" y="88" width="60" height="74" rx="18" fill="#fff" opacity="0.9" />
              <rect x="292" y="104" width="36" height="10" rx="5" fill="#6c5ce7" opacity="0.35" />
              <rect x="292" y="122" width="36" height="10" rx="5" fill="#6c5ce7" opacity="0.35" />
              <rect x="292" y="140" width="36" height="10" rx="5" fill="#6c5ce7" opacity="0.35" />
              <path
                d="M80 56h120"
                stroke="#6c5ce7"
                stroke-width="3"
                stroke-linecap="round"
                opacity="0.45"
              />
              <path
                d="M80 70h96"
                stroke="#6c5ce7"
                stroke-width="3"
                stroke-linecap="round"
                opacity="0.25"
              />
              <path
                d="M80 84h140"
                stroke="#6c5ce7"
                stroke-width="3"
                stroke-linecap="round"
                opacity="0.2"
              />
              <circle cx="96" cy="172" r="16" fill="#ffffff" opacity="0.9" />
              <path d="M92 172h8m-4-4v8" stroke="#6c5ce7" stroke-width="3" stroke-linecap="round" />
              <circle cx="150" cy="172" r="16" fill="#ffffff" opacity="0.9" />
              <path d="M142 172h16" stroke="#6c5ce7" stroke-width="3" stroke-linecap="round" />
              <circle cx="204" cy="172" r="16" fill="#ffffff" opacity="0.9" />
              <path
                d="M200 168l8 8m0-8l-8 8"
                stroke="#6c5ce7"
                stroke-width="3"
                stroke-linecap="round"
              />
            </svg>
          </figure>
        </div>

        <div class="header-controls">
          <div class="control-group">
            <label>Klasse ausw√§hlen</label>
            <select id="classSelector" title="Klasse ausw√§hlen" aria-label="Klasse ausw√§hlen">
              <option value="8a">8A - Politische Bildung</option>
              <option value="8b">8B - Politische Bildung</option>
              <option value="9a">9A - Geschichte & Politik</option>
            </select>
          </div>

          <div class="control-group">
            <label>Spiel-Session</label>
            <select id="sessionSelector" title="Session ausw√§hlen" aria-label="Session ausw√§hlen">
              <option value="current">Aktuelle Session</option>
              <option value="last">Letzte Session</option>
              <option value="all">Alle Sessions</option>
            </select>
          </div>

          <button onclick="startNewSession()">üéÆ Neue Session starten</button>
          <button onclick="exportResults()">üìä Ergebnisse exportieren</button>
          <button onclick="showSettings()">‚öôÔ∏è Einstellungen</button>
        </div>
      </div>

      <div class="dashboard-grid">
        <!-- Klassen√ºbersicht Widget -->
        <div class="widget">
          <div class="widget-header">
            <span class="widget-title">Klassen√ºbersicht</span>
            <span class="widget-icon" aria-hidden="true">
              <svg
                viewBox="0 0 32 32"
                stroke="#3b5bdb"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <circle cx="12" cy="12" r="5" fill="#6c5ce7" fill-opacity="0.16" stroke="#3b5bdb" />
                <circle cx="21" cy="11" r="4" fill="#6c5ce7" fill-opacity="0.1" stroke="#3b5bdb" />
                <path d="M4.5 25.5c1.5-4.3 5.3-7 9.5-7s8 2.7 9.5 7" />
              </svg>
            </span>
          </div>

                <div class="metric-grid">
                    <div class="metric">
                        <span class="metric-icon" aria-hidden="true">
                            <svg viewBox="0 0 32 32" stroke="#2c3e50" stroke-linecap="round" stroke-linejoin="round" fill="none">
                                <circle cx="12" cy="13" r="4.2" fill="#2f80ed" fill-opacity="0.15" />
                                <circle cx="20" cy="11" r="3.6" fill="#2f80ed" fill-opacity="0.1" />
                                <path d="M6 24c1.6-4 5-6 9-6s7.4 2 9 6" />
                            </svg>
                        </span>
                        <div class="metric-value" id="totalStudents">24</div>
                        <div class="metric-label">Sch√ºler gesamt</div>
                    </div>
                    <div class="metric">
                        <span class="metric-icon" aria-hidden="true">
                            <svg viewBox="0 0 32 32" stroke="#1c7ed6" stroke-linecap="round" stroke-linejoin="round" fill="none">
                                <circle cx="12" cy="13" r="3.6" fill="#1c7ed6" fill-opacity="0.12" />
                                <path d="M6.5 22c1.2-3 3.6-4.5 6.5-4.5 2.9 0 5.3 1.5 6.5 4.5" />
                                <path d="M19 9l4 4 4-6" stroke="#51cf66" />
                            </svg>
                        </span>
                        <div class="metric-value" id="activeStudents">22</div>
                        <div class="metric-label">Aktiv online</div>
                    </div>
                    <div class="metric">
                        <span class="metric-icon" aria-hidden="true">
                            <svg viewBox="0 0 32 32" stroke="#20c997" stroke-linecap="round" stroke-linejoin="round" fill="none">
                                <path d="M8 24c0-5 3.5-9 8-9s8 4 8 9" fill="#20c997" fill-opacity="0.12" />
                                <path d="M22 24h-7" />
                                <path d="M16 24V12" />
                                <circle cx="16" cy="9" r="2" />
                            </svg>
                        </span>
                        <div class="metric-value" id="avgEngagement">87%</div>
                        <div class="metric-label">Engagement</div>
                    </div>
                    <div class="metric">
                        <span class="metric-icon" aria-hidden="true">
                            <svg viewBox="0 0 32 32" stroke="#845ef7" stroke-linecap="round" stroke-linejoin="round" fill="none">
                                <circle cx="16" cy="16" r="8" fill="#845ef7" fill-opacity="0.12" />
                                <path d="M16 10v6l4 2" />
                                <circle cx="16" cy="16" r="10" opacity="0.2" />
                            </svg>
                        </span>
                        <div class="metric-value" id="sessionTime">23m</div>
                        <div class="metric-label">Session-Zeit</div>
                    </div>
                </div>

          <div class="student-list" id="studentList">
            <!-- Wird dynamisch bef√ºllt -->
          </div>
        </div>

        <!-- Aktive Spiele Widget -->
        <div class="widget">
          <div class="widget-header">
            <span class="widget-title">Aktive Spiele</span>
            <span class="widget-icon" aria-hidden="true">
              <svg
                viewBox="0 0 32 32"
                stroke="#1c7ed6"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <path
                  d="M9 13.5c0-3.3 2.7-6 6-6h2c3.3 0 6 2.7 6 6v5.8c0 2.9-2.3 5.2-5.2 5.2H14c-2.9 0-5.2-2.3-5.2-5.2V13.5z"
                  fill="#1c7ed6"
                  fill-opacity="0.12"
                />
                <circle cx="12" cy="17" r="2.2" />
                <line x1="12" y1="15" x2="12" y2="19" />
                <line x1="10" y1="17" x2="14" y2="17" />
                <circle cx="20.5" cy="18" r="1.6" />
                <circle cx="23.5" cy="16" r="1.1" />
              </svg>
            </span>
          </div>

          <div class="game-grid" id="gameGrid">
            <!-- Wird dynamisch bef√ºllt -->
          </div>
        </div>

        <!-- Lernfortschritt Widget -->
        <div class="widget">
          <div class="widget-header">
            <span class="widget-title">Lernfortschritt</span>
            <span class="widget-icon" aria-hidden="true">
              <svg
                viewBox="0 0 32 32"
                stroke="#2f9e44"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <rect
                  x="8"
                  y="14"
                  width="4"
                  height="10"
                  rx="1.2"
                  fill="#2f9e44"
                  fill-opacity="0.18"
                  stroke="#2f9e44"
                />
                <rect
                  x="14"
                  y="10"
                  width="4"
                  height="14"
                  rx="1.2"
                  fill="#2f9e44"
                  fill-opacity="0.14"
                  stroke="#2f9e44"
                />
                <rect
                  x="20"
                  y="6"
                  width="4"
                  height="18"
                  rx="1.2"
                  fill="#2f9e44"
                  fill-opacity="0.1"
                  stroke="#2f9e44"
                />
                <polyline points="8 12 14 8 20 10 24 6" />
              </svg>
            </span>
          </div>

          <div class="curriculum-alignment">
            <h4>Lehrplan-Alignment</h4>
            <div class="objective-item">
              <span>Demokratie verstehen</span>
              <div class="objective-progress">
                <div class="progress-fill" style="width: 75%"></div>
              </div>
            </div>
            <div class="objective-item">
              <span>Kritisches Denken</span>
              <div class="objective-progress">
                <div class="progress-fill" style="width: 65%"></div>
              </div>
            </div>
            <div class="objective-item">
              <span>Medienkomeptenz</span>
              <div class="objective-progress">
                <div class="progress-fill" style="width: 80%"></div>
              </div>
            </div>
          </div>

                <div class="metric-grid">
                    <div class="metric">
                        <span class="metric-icon" aria-hidden="true">
                            <svg viewBox="0 0 32 32" stroke="#2f9e44" stroke-linecap="round" stroke-linejoin="round" fill="none">
                                <path d="M8 20l6-8 4 5 6-10" fill="#2f9e44" fill-opacity="0.14" />
                                <path d="M8 24h16" />
                            </svg>
                        </span>
                        <div class="metric-value">3.2/4</div>
                        <div class="metric-label">√ò Kompetenz-Level</div>
                    </div>
                    <div class="metric">
                        <span class="metric-icon" aria-hidden="true">
                            <svg viewBox="0 0 32 32" stroke="#2f9e44" stroke-linecap="round" stroke-linejoin="round" fill="none">
                                <circle cx="16" cy="16" r="9" fill="#2f9e44" fill-opacity="0.12" />
                                <path d="M16 10v6l4 2" />
                                <path d="M10 22c2.5-2.8 3.7-4.2 6-8" opacity="0.6" />
                            </svg>
                        </span>
                        <div class="metric-value">89%</div>
                        <div class="metric-label">Lernziel-Erf√ºllung</div>
                    </div>
                </div>
            </div>

        <!-- Gruppendynamik Widget -->
        <div class="widget">
          <div class="widget-header">
            <span class="widget-title">Gruppendynamik</span>
            <span class="widget-icon" aria-hidden="true">
              <svg
                viewBox="0 0 32 32"
                stroke="#0ca678"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <circle
                  cx="10"
                  cy="12"
                  r="3.5"
                  fill="#12b886"
                  fill-opacity="0.12"
                  stroke="#0ca678"
                />
                <circle
                  cx="22"
                  cy="12"
                  r="3.5"
                  fill="#12b886"
                  fill-opacity="0.12"
                  stroke="#0ca678"
                />
                <path d="M6 20c1.8-2.6 4.5-4 8-4s6.2 1.4 8 4" />
                <path d="M11 18l5 4 5-4" />
              </svg>
            </span>
          </div>

                <div class="metric-grid">
                    <div class="metric">
                        <span class="metric-icon" aria-hidden="true">
                            <svg viewBox="0 0 32 32" stroke="#0ca678" stroke-linecap="round" stroke-linejoin="round" fill="none">
                                <path d="M10 21l-3-3 1.4-1.4L10 18.2l3.6-3.6L15 16" fill="#0ca678" fill-opacity="0.12" />
                                <path d="M22 12c1.2 0 3 .8 3 3.5 0 1.7-1 3.3-2.6 4.2L16 24l-6.4-4.3C7 18.8 6 17.2 6 15.5 6 12 7.8 11 9 11l3 1" />
                            </svg>
                        </span>
                        <div class="metric-value">6</div>
                        <div class="metric-label">Aktive Gruppen</div>
                    </div>
                    <div class="metric">
                        <span class="metric-icon" aria-hidden="true">
                            <svg viewBox="0 0 32 32" stroke="#0ca678" stroke-linecap="round" stroke-linejoin="round" fill="none">
                                <path d="M8 22c0-4 3-7 8-7s8 3 8 7" fill="#0ca678" fill-opacity="0.12" />
                                <path d="M12 14l4 4 4-4" />
                                <circle cx="16" cy="11" r="3" />
                            </svg>
                        </span>
                        <div class="metric-value">92%</div>
                        <div class="metric-label">Kollaborations-Index</div>
                    </div>
                    <div class="metric">
                        <span class="metric-icon" aria-hidden="true">
                            <svg viewBox="0 0 32 32" stroke="#0ca678" stroke-linecap="round" stroke-linejoin="round" fill="none">
                                <circle cx="16" cy="12" r="4" fill="#0ca678" fill-opacity="0.12" />
                                <path d="M10 22l3-6 3 3 3-5 3 8" />
                            </svg>
                        </span>
                        <div class="metric-value">2</div>
                        <div class="metric-label">Konflikte gel√∂st</div>
                    </div>
                    <div class="metric">
                        <span class="metric-icon" aria-hidden="true">
                            <svg viewBox="0 0 32 32" stroke="#0ca678" stroke-linecap="round" stroke-linejoin="round" fill="none">
                                <path d="M10 17h12" opacity="0.25" />
                                <path d="M12 13l4-4 4 4" />
                                <path d="M12 21l4 4 4-4" />
                            </svg>
                        </span>
                        <div class="metric-value">4.1/5</div>
                        <div class="metric-label">Gruppen-Harmonie</div>
                    </div>
                </div>

          <div class="intervention-panel">
            <h4>Verf√ºgbare Interventionen</h4>
            <button class="intervention-button">üéØ Partizipation f√∂rdern</button>
            <button class="intervention-button">ü§ù Konflikt mediieren</button>
            <button class="intervention-button">üí° Lernimpuls geben</button>
            <button class="intervention-button">üîÑ Gruppen rotieren</button>
          </div>
        </div>

        <!-- Echtzeit-Aktivit√§ten Widget -->
        <div class="widget">
          <div class="widget-header">
            <span class="widget-title">Live-Aktivit√§ten</span>
            <span class="widget-icon" aria-hidden="true">
              <svg
                viewBox="0 0 32 32"
                stroke="#f59f00"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <polygon
                  points="14 6 8 18 15 18 12 26 24 14 17 14 20 6"
                  fill="#ffd43b"
                  fill-opacity="0.2"
                  stroke="#f59f00"
                />
              </svg>
            </span>
          </div>

          <div class="real-time-feed" id="activityFeed">
            <!-- Wird dynamisch bef√ºllt -->
          </div>
        </div>

        <!-- Alerts Widget -->
        <div class="widget">
          <div class="widget-header">
            <span class="widget-title">Wichtige Hinweise</span>
            <span class="widget-icon" aria-hidden="true">
              <svg
                viewBox="0 0 32 32"
                stroke="#f03e3e"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <path
                  d="M16 6l10 18a2 2 0 0 1-1.7 3H7.7A2 2 0 0 1 6 24l10-18z"
                  fill="#ff6b6b"
                  fill-opacity="0.18"
                  stroke="#f03e3e"
                />
                <line x1="16" y1="12" x2="16" y2="18" />
                <circle cx="16" cy="22" r="1.2" fill="#f03e3e" stroke="none" />
              </svg>
            </span>
          </div>

          <div id="alertsContainer">
            <div class="alert">
              <span>‚ö†Ô∏è</span>
              <span>Gruppe 3 ben√∂tigt Unterst√ºtzung bei der Kompromissfindung</span>
            </div>
            <div class="alert critical">
              <span>üî•</span>
              <span>Erh√∂htes Konfliktpotential in Gruppe 2 - Mediation empfohlen</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Integration der Spiele-Module -->
    <script src="js/game-graphics.js"></script>
    <script src="js/minigames-metaverse.js"></script>
    <script src="js/educational-analytics.js"></script>
    <script src="js/curriculum-integration.js"></script>
    <script src="js/advanced-multiplayer.js"></script>

    <script>
      // Dashboard-Logik
      class TeacherDashboard {
        constructor() {
          this.currentClass = '8a';
          this.currentSession = null;
          this.updateInterval = 2000; // 2 Sekunden
          this.analytics = new EducationalAnalytics();
          this.curriculum = new CurriculumIntegrationSystem();
          this.multiplayer = new AdvancedMultiplayerSystem();

          this.init();
        }

        init() {
          this.startRealTimeUpdates();
          this.initializeWidgets();
          this.setupEventListeners();
        }

        startRealTimeUpdates() {
          setInterval(() => {
            this.updateStudentList();
            this.updateGameGrid();
            this.updateActivityFeed();
            this.updateMetrics();
          }, this.updateInterval);
        }

        initializeWidgets() {
          this.updateStudentList();
          this.updateGameGrid();
          this.populateActivityFeed();
        }

        updateStudentList() {
          const mockStudents = [
            { name: 'Anna M.', status: 'online', engagement: 95, game: 'Br√ºcken-Puzzle' },
            { name: 'Max S.', status: 'engaged', engagement: 87, game: 'Fact-Check Arena' },
            { name: 'Lisa K.', status: 'needs-help', engagement: 45, game: 'Stadtplanung' },
            { name: 'Tom B.', status: 'online', engagement: 78, game: 'Debatte' },
            { name: 'Sarah L.', status: 'engaged', engagement: 92, game: 'Krisenstab' },
            { name: 'Jan W.', status: 'online', engagement: 83, game: 'Netzwerk-Analyse' },
          ];

          const studentList = document.getElementById('studentList');
          studentList.innerHTML = mockStudents
            .map(
              student => `
                    <div class="student-item">
                        <div>
                            <div class="student-name">${student.name}</div>
                            <small style="color: #666;">${student.game}</small>
                        </div>
                        <div class="student-status status-${student.status}">
                            ${
                              student.status === 'online'
                                ? 'Online'
                                : student.status === 'engaged'
                                  ? 'Engagiert'
                                  : 'Braucht Hilfe'
                            }
                        </div>
                    </div>
                `
            )
            .join('');
        }

        updateGameGrid() {
          const games = [
            { id: 'factcheck', title: 'Fact-Check Arena', icon: 'üîç', players: 8, active: true },
            { id: 'bridge', title: 'Br√ºcken-Puzzle', icon: 'üåâ', players: 6, active: true },
            { id: 'debate', title: 'Debatte', icon: '‚öñÔ∏è', players: 4, active: false },
            { id: 'city', title: 'Stadtplanung', icon: 'üèôÔ∏è', players: 2, active: true },
            { id: 'crisis', title: 'Krisenstab', icon: 'üö®', players: 3, active: false },
            { id: 'network', title: 'Netzwerk-Analyse', icon: 'üï∏Ô∏è', players: 1, active: true },
          ];

          const gameGrid = document.getElementById('gameGrid');
          gameGrid.innerHTML = games
            .map(
              game => `
                    <div class="game-card ${game.active ? 'active' : ''}" onclick="selectGame('${game.id}')">
                        <div class="game-icon">${game.icon}</div>
                        <div class="game-title">${game.title}</div>
                        <div class="game-players">${game.players} Spieler</div>
                    </div>
                `
            )
            .join('');
        }

        populateActivityFeed() {
          const activities = [
            { time: '14:23', text: 'Gruppe 2 hat Kompromiss in Br√ºcken-Puzzle gefunden' },
            { time: '14:21', text: 'Anna M. erkannte Fake News in 12 Sekunden' },
            { time: '14:19', text: 'Max S. √ºbernahm Gruppenleitung in Debatte' },
            { time: '14:17', text: 'Gruppe 4 startet Netzwerk-Analyse Spiel' },
            { time: '14:15', text: 'Lisa K. bittet um Hilfe bei Argumentationskette' },
            { time: '14:13', text: 'Erfolgreiche Mediation in Gruppe 3' },
          ];

          const feed = document.getElementById('activityFeed');
          feed.innerHTML = activities
            .map(
              activity => `
                    <div class="feed-item">
                        <div class="feed-timestamp">${activity.time}</div>
                        <div>${activity.text}</div>
                    </div>
                `
            )
            .join('');
        }

        updateActivityFeed() {
          // Simuliere neue Aktivit√§ten
          if (Math.random() > 0.7) {
            const newActivities = [
              'Neue Diskussion in Gruppe 1 gestartet',
              'Kompetenz-Level Update: Kritisches Denken +5%',
              'Peer-Assessment abgeschlossen',
              'Gruppenwechsel initiiert',
            ];

            const randomActivity = newActivities[Math.floor(Math.random() * newActivities.length)];
            const now = new Date();
            const timeStr = `${now.getHours().toString().padStart(2, '0')}:${now.getMinutes().toString().padStart(2, '0')}`;

            const feed = document.getElementById('activityFeed');
            const newItem = document.createElement('div');
            newItem.className = 'feed-item';
            newItem.innerHTML = `
                        <div class="feed-timestamp">${timeStr}</div>
                        <div>${randomActivity}</div>
                    `;

            feed.insertBefore(newItem, feed.firstChild);

            // Entferne alte Eintr√§ge
            while (feed.children.length > 10) {
              feed.removeChild(feed.lastChild);
            }
          }
        }

        updateMetrics() {
          // Simuliere Live-Updates der Metriken
          const engagement = Math.min(100, Math.max(70, 87 + (Math.random() - 0.5) * 10));
          document.getElementById('avgEngagement').textContent = `${Math.round(engagement)}%`;

          const sessionElement = document.getElementById('sessionTime');
          const currentTime = sessionElement.textContent;
          const minutes = parseInt(currentTime) || 23;
          sessionElement.textContent = `${minutes}m`;
        }

        setupEventListeners() {
          document.getElementById('classSelector').addEventListener('change', e => {
            this.currentClass = e.target.value;
            this.refreshDashboard();
          });

          document.getElementById('sessionSelector').addEventListener('change', e => {
            this.currentSession = e.target.value;
            this.refreshDashboard();
          });
        }

        refreshDashboard() {
          this.updateStudentList();
          this.updateGameGrid();
          this.populateActivityFeed();
        }
      }

      // Dashboard-Funktionen
      function selectGame(gameId) {
        console.log(`Spiel ausgew√§hlt: ${gameId}`);
        // Implementierung f√ºr Spiel-Details
      }

      function startNewSession() {
        if (confirm('M√∂chten Sie eine neue Spielsession starten?')) {
          alert('Neue Session wird gestartet...');
          // Implementierung f√ºr neue Session
        }
      }

      function exportResults() {
        alert('Ergebnisse werden exportiert...');
        // Implementierung f√ºr Export
      }

      function showSettings() {
        alert('Einstellungen werden geladen...');
        // Implementierung f√ºr Einstellungen
      }

      // Dashboard initialisieren
      document.addEventListener('DOMContentLoaded', () => {
        const dashboard = new TeacherDashboard();
        window.teacherDashboard = dashboard;
      });
    </script>
  </body>
</html>
